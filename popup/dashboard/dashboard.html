<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gone Phishin' - Security Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <!-- Navigation Header -->
    <header class="dashboard-header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo-icon">üõ°Ô∏è</div>
                <div class="logo-text">
                    <h1>Gone Phishin'</h1>
                    <p class="tagline">Security Dashboard</p>
                </div>
            </div>
            <nav class="nav-tabs">
                <button class="nav-tab active" data-tab="overview">Overview</button>
                <button class="nav-tab" data-tab="site-analysis">Site Analysis</button>
                <button class="nav-tab" data-tab="protection">Protection</button>
                <button class="nav-tab" data-tab="threats">Threats</button>
                <button class="nav-tab" data-tab="reports">Reports</button>
                <button class="nav-tab" data-tab="technical">Technical</button>
                <button class="nav-tab" data-tab="whitelist">White List</button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="dashboard-content">
        <!-- Overview Tab -->
        <section class="tab-content active" id="overviewTab">
            <!-- Statistics Cards -->
            <div class="stats-grid-large">
                <div class="stat-card-large secure">
                    <div class="stat-header">
                        <div class="stat-icon-large">üîí</div>
                        <div class="stat-info-large">
                            <div class="stat-value-large" id="totalUpgradesLarge">0</div>
                            <div class="stat-label-large">HTTPS Upgrades</div>
                        </div>
                    </div>
                    <div class="stat-trend" id="upgradesTrend">+0% from last week</div>
                </div>

                <div class="stat-card-large protected">
                    <div class="stat-header">
                        <div class="stat-icon-large">üõ°Ô∏è</div>
                        <div class="stat-info-large">
                            <div class="stat-value-large" id="sitesProtectedLarge">0</div>
                            <div class="stat-label-large">Sites Protected</div>
                        </div>
                    </div>
                    <div class="stat-trend" id="protectedTrend">0 unique domains</div>
                </div>

                <div class="stat-card-large threats">
                    <div class="stat-header">
                        <div class="stat-icon-large">üö®</div>
                        <div class="stat-info-large">
                            <div class="stat-value-large" id="threatsBlockedLarge">0</div>
                            <div class="stat-label-large">Threats Blocked</div>
                        </div>
                    </div>
                    <div class="stat-trend" id="threatsTrend">0 today</div>
                </div>

            </div>

            <!-- Protection Layers Overview -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>üõ°Ô∏è Protection Layers Status</h2>
                    <button class="info-btn" id="layersOverviewBtn">‚ÑπÔ∏è</button>
                </div>
                <div class="layers-overview-grid">
                    <div class="layer-overview-card" data-layer="https">
                        <div class="layer-overview-header">
                            <div class="layer-overview-icon">üîí</div>
                            <h3>HTTPS Enforcement</h3>
                        </div>
                        <div class="layer-overview-status active">Active</div>
                        <div class="layer-overview-description">
                            Automatically upgrades HTTP to HTTPS connections
                        </div>
                        <div class="layer-overview-stats">
                            <div class="overview-stat">
                                <span class="overview-stat-label">Upgrades:</span>
                                <span class="overview-stat-value" id="httpsUpgrades">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="layer-overview-card" data-layer="tls">
                        <div class="layer-overview-header">
                            <div class="layer-overview-icon">üîê</div>
                            <h3>TLS Verification</h3>
                        </div>
                        <div class="layer-overview-status" id="tlsOverviewStatus">Checking...</div>
                        <div class="layer-overview-description">
                            Validates SSL/TLS certificates for authenticity
                        </div>
                        <div class="layer-overview-stats">
                            <div class="overview-stat">
                                <span class="overview-stat-label">Verified:</span>
                                <span class="overview-stat-value" id="tlsVerified">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="layer-overview-card" data-layer="heuristics">
                        <div class="layer-overview-header">
                            <div class="layer-overview-icon">üîç</div>
                            <h3>Heuristic Analysis</h3>
                        </div>
                        <div class="layer-overview-status" id="heuristicsOverviewStatus">Active</div>
                        <div class="layer-overview-description">
                            AI-powered phishing and threat detection
                        </div>
                        <div class="layer-overview-stats">
                            <div class="overview-stat">
                                <span class="overview-stat-label">Scanned:</span>
                                <span class="overview-stat-value" id="heuristicsScanned">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Recent Activity Timeline -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>üìä Recent Activity</h2>
                    <button class="view-all-btn" id="viewAllActivityBtn">View All ‚Üí</button>
                </div>
                <div class="activity-timeline-large" id="activityTimelineLarge">
                    <!-- Activity items will be inserted here -->
                </div>
            </section>
        </section>

        <!-- Protection Tab -->
        <section class="tab-content" id="protectionTab">
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>üõ°Ô∏è Protection Layers Explained</h2>
                </div>
                
                <div class="protection-details">
                    <!-- HTTPS Enforcement -->
                    <div class="protection-detail-card">
                        <div class="protection-detail-header">
                            <div class="protection-detail-icon">üîí</div>
                            <div class="protection-detail-title">
                                <h3>HTTPS Enforcement</h3>
                                <span class="protection-status-badge active">Active</span>
                            </div>
                        </div>
                        <div class="protection-detail-content">
                            <p class="protection-description">
                                Automatically upgrades insecure HTTP connections to secure HTTPS, preventing data interception and man-in-the-middle attacks.
                            </p>
                            <div class="protection-how-it-works">
                                <h4>How It Works:</h4>
                                <ol>
                                    <li>Monitors all network requests in real-time</li>
                                    <li>Detects HTTP connections to HTTPS-capable sites</li>
                                    <li>Automatically redirects to HTTPS version</li>
                                    <li>Blocks mixed content (HTTP resources on HTTPS pages)</li>
                                </ol>
                            </div>
                            <div class="protection-stats-grid">
                                <div class="protection-stat">
                                    <div class="protection-stat-value" id="httpsUpgradesDetail">0</div>
                                    <div class="protection-stat-label">Total Upgrades</div>
                                </div>
                                <div class="protection-stat">
                                    <div class="protection-stat-value" id="httpsBlocks">0</div>
                                    <div class="protection-stat-label">Mixed Content Blocked</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Connection Security -->
                    <div class="protection-detail-card">
                        <div class="protection-detail-header">
                            <div class="protection-detail-icon">üîê</div>
                            <div class="protection-detail-title">
                                <h3>Connection Security</h3>
                                <span class="protection-status-badge" id="tlsDetailStatus">Active</span>
                            </div>
                        </div>
                        <div class="protection-detail-content">
                            <p class="protection-description">
                                Verifies that sites use HTTPS with valid certificates. Certificate validation is handled by the browser. Advanced certificate monitoring is available in Firefox version only.
                            </p>
                            <div class="protection-how-it-works">
                                <h4>How It Works:</h4>
                                <ol>
                                    <li>Checks if connection uses HTTPS protocol</li>
                                    <li>Browser automatically validates certificates, checks expiration, and verifies CA trust</li>
                                    <li>Extension supplements browser security but does not replace it</li>
                                    <li><strong>Note:</strong> Advanced features (fingerprint tracking, issuer drift) require Firefox MV2 version</li>
                                </ol>
                            </div>
                            <div class="protection-stats-grid">
                                <div class="protection-stat">
                                    <div class="protection-stat-value" id="tlsVerifiedDetail">0</div>
                                    <div class="protection-stat-label">HTTPS Connections</div>
                                </div>
                                <div class="protection-stat">
                                    <div class="protection-stat-value" id="tlsWarnings">0</div>
                                    <div class="protection-stat-label">Warnings Detected</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Heuristic Analysis -->
                    <div class="protection-detail-card">
                        <div class="protection-detail-header">
                            <div class="protection-detail-icon">üîç</div>
                            <div class="protection-detail-title">
                                <h3>Heuristic Analysis</h3>
                                <span class="protection-status-badge active">Active</span>
                            </div>
                        </div>
                        <div class="protection-detail-content">
                            <p class="protection-description">
                                AI-powered content analysis that detects phishing attempts, suspicious patterns, and malicious behavior through machine learning algorithms.
                            </p>
                            <div class="protection-how-it-works">
                                <h4>How It Works:</h4>
                                <ol>
                                    <li>Analyzes page content and structure</li>
                                    <li>Examines link patterns and external domains</li>
                                    <li>Detects suspicious form behavior</li>
                                    <li>Identifies phishing indicators (typosquatting, etc.)</li>
                                    <li>Calculates anomaly score based on multiple factors</li>
                                </ol>
                            </div>
                            <div class="protection-stats-grid">
                                <div class="protection-stat">
                                    <div class="protection-stat-value" id="heuristicsScannedDetail">0</div>
                                    <div class="protection-stat-label">Pages Scanned</div>
                                </div>
                                <div class="protection-stat">
                                    <div class="protection-stat-value" id="phishingDetected">0</div>
                                    <div class="protection-stat-label">Phishing Detected</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- Threats Tab -->
        <section class="tab-content" id="threatsTab">
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>üö® Security Threats & Alerts</h2>
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="critical">Critical</button>
                        <button class="filter-btn" data-filter="warning">Warnings</button>
                    </div>
                </div>
                
                <div class="threats-list" id="threatsList">
                    <!-- Threats will be inserted here -->
                </div>
            </section>

            <!-- Threat Statistics -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>üìà Threat Statistics</h2>
                </div>
                <div class="threat-stats-grid">
                    <div class="threat-stat-card critical">
                        <div class="threat-stat-icon">üö®</div>
                        <div class="threat-stat-info">
                            <div class="threat-stat-value" id="criticalThreats">0</div>
                            <div class="threat-stat-label">Critical Threats</div>
                        </div>
                    </div>
                    <div class="threat-stat-card warning">
                        <div class="threat-stat-icon">‚ö†Ô∏è</div>
                        <div class="threat-stat-info">
                            <div class="threat-stat-value" id="warningThreats">0</div>
                            <div class="threat-stat-label">Warnings</div>
                        </div>
                    </div>
                    <div class="threat-stat-card mitm">
                        <div class="threat-stat-icon">üåê</div>
                        <div class="threat-stat-info">
                            <div class="threat-stat-value" id="mitmThreats">0</div>
                            <div class="threat-stat-label">MITM Attempts</div>
                        </div>
                    </div>
                    <div class="threat-stat-card phishing">
                        <div class="threat-stat-icon">üé£</div>
                        <div class="threat-stat-info">
                            <div class="threat-stat-value" id="phishingThreats">0</div>
                            <div class="threat-stat-label">Phishing Sites</div>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- Reports Tab -->
        <section class="tab-content" id="reportsTab">
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>üìã Security Reports</h2>
                    <button class="btn btn-primary" id="exportReportBtn">
                        <span class="btn-icon">üì•</span>
                        <span>Export Report</span>
                    </button>
                </div>
                
                <!-- Report Filters -->
                <div class="report-filters">
                    <select class="filter-select" id="reportTimeFilter">
                        <option value="24h">Last 24 Hours</option>
                        <option value="7d" selected>Last 7 Days</option>
                        <option value="30d">Last 30 Days</option>
                        <option value="all">All Time</option>
                    </select>
                    <select class="filter-select" id="reportSeverityFilter">
                        <option value="all">All Severities</option>
                        <option value="critical">Critical Only</option>
                        <option value="warning">Warnings Only</option>
                        <option value="secure">Secure Only</option>
                    </select>
                </div>

                <!-- Reports List -->
                <div class="reports-list" id="reportsList">
                    <!-- Reports will be inserted here -->
                </div>
            </section>
        </section>

        <!-- Site Analysis Tab -->
        <section class="tab-content" id="site-analysisTab">
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>üî¨ Site Analysis</h2>
                    <div class="site-selector-container">
                        <select class="site-selector" id="siteSelector">
                            <option value="">Select a site to analyze...</option>
                        </select>
                        <button class="btn btn-secondary" id="analyzeCurrentSiteBtn">
                            <span class="btn-icon">üåê</span>
                            <span>Analyze Current Site</span>
                        </button>
                    </div>
                </div>
                
                <!-- Site Analysis Container -->
                <div class="site-analysis-container" id="siteAnalysisContainer">
                    <div class="analysis-placeholder">
                        <div class="placeholder-icon">üîç</div>
                        <h3>Select a Site to Analyze</h3>
                        <p>Choose a site from the dropdown above or click "Analyze Current Site" to view comprehensive security analysis.</p>
                    </div>
                </div>
            </section>
        </section>

        <!-- Technical Details Tab -->
        <section class="tab-content" id="technicalTab">
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>üî¨ Technical Analysis</h2>
                    <button class="btn btn-secondary" id="refreshTechnicalBtn">
                        <span class="btn-icon">üîÑ</span>
                        <span>Refresh</span>
                    </button>
                </div>
                
                <!-- Technical Details Container -->
                <div class="technical-container" id="technicalContainer">
                    <div class="technical-loading">Loading technical data...</div>
                </div>
            </section>
        </section>
    </main>

    <!-- Whitelist Tab -->
    <main>
        <section class="tab-content" id="whitelistTab">
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>üõ°Ô∏è Whitelisted URLs</h2>
                    <button class="btn btn-secondary" id="refreshWhitelistBtn">
                        <span class="btn-icon">üîÑ</span>
                        <span>Refresh</span>
                    </button>
                </div>

                <!-- Whitelist Container -->
                <div class="whitelist-container" id="whitelistContainer">
                    <div class="whitelist-loading">Loading whitelist...</div>
                </div>
            </section>
        </section>
    </main>

    <!-- Modals -->
    <div class="modal" id="layerInfoModal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Protection Layer Information</h2>
                <button class="modal-close" id="closeModal">√ó</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script src="site-analysis.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
